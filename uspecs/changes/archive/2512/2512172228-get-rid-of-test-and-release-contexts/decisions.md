# Decisions

## Keep ops context separate

Decision: The ops context will remain separate and not be merged into dev.

Rationale:

- Operations (monitoring, incident response, production infrastructure) is fundamentally different from development activities
- Aligns with common industry separation between dev and ops concerns
- The change description focuses on test/release complexity, not ops
- Maintains clear boundary between development and production operations

Alternatives considered:

- Merge ops into dev as well - Rejected because it would blur important boundaries between development and production operations
- Keep ops separate but rename dev to "dev-test-release" - Rejected because it creates verbose naming without adding clarity

## Merge all test and release relationships into dev

Decision: All existing relationships involving test and release contexts will be merged into dev relationships.

Rationale:

- Preserves all relationship information
- Maintains the supplier-customer patterns (dev->test->release becomes internal to dev)
- CI System relationships with test and release should become CI System->dev relationships
- Keeps the context map informative and complete

Alternatives considered:

- Remove test and release relationships entirely - Rejected because it would lose important documentation about how CI interacts with different phases
- Keep relationships but mark test/release as deprecated - Rejected because it adds complexity rather than reducing it

## All devops specifications in specs/devops/dev

Decision: All future devops specifications will be placed in specs/devops/dev folder.

Rationale:

- Single location for all development-related specs
- Consistent with the consolidation goal
- Simplifies navigation and discovery
- No need to decide which subfolder for test vs release features

Alternatives considered:

- Create subfolders within dev (specs/devops/dev/testing, specs/devops/dev/releasing) - Rejected because it maintains organizational complexity we're trying to eliminate
- Keep separate folders but update contexts.yml only - Rejected because it would cause confusion between folder names and context names

## Updated dev context description

Decision: The consolidated dev context description will be "Development, testing, and release automation".

Rationale:

- Concise and covers all three merged areas
- Parallel structure to the domain description
- Clear about the expanded scope
- Accurately reflects the broader responsibilities after consolidation

Alternatives considered:

- "Development environment setup, automated testing, and build pipelines" - Rejected because it's too verbose for a context description
- "Development lifecycle management" - Rejected because it's too vague about what's actually included

## Regenerate domain-devops.md after updating contexts.yml

Decision: The domain-devops.md file will be regenerated by running build-rels.sh after updating contexts.yml.

Rationale:

- Maintains consistency between source (contexts.yml) and generated output
- Follows the established workflow for domain files
- Ensures diagrams are correctly updated with merged relationships
- Automated regeneration prevents manual errors

Alternatives considered:

- Manually update domain-devops.md - Rejected because of risk of inconsistency with contexts.yml
- Delete domain-devops.md and let users regenerate when needed - Rejected because it may cause confusion if file is expected to exist

## Track both generation and modification timestamps

Decision: Keep original generated_at timestamp and add modified_at field to contexts.yml metadata.

Rationale:

- Preserves original generation date
- Tracks both creation and modification
- More detailed history tracking
- Clarifies that file was originally generated but has been manually modified

Alternatives considered:

- Update generated_at to current timestamp - Rejected because it would lose the original generation date
- Remove generated_at entirely since this is manual editing - Rejected because the generation metadata provides useful context about the file's origin
